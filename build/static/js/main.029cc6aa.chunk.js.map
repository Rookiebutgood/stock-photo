{"version":3,"sources":["Photo.js","keys.js","ImageList.js","App.js","PhotoPage.js","index.js"],"names":["imgStyle","width","Photo","props","spanWithTitle","description","className","to","id","style","src","alt","href","userLink","download","target","PUBLIC_KEY","ImageList","state","photoArr","changeValue","event","search","value","key","fetch","method","then","res","json","arr","results","map","el","obj","url","urls","small","links","push","setState","this","searchValue","user","html","onChange","React","Component","App","imageList","location","PhotoPage","imageObj","idFromPath","pathname","split","length","regular","profile_image","medium","name","tags","title","routing","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"kPAGMA,EAAS,CACbC,MAAO,QA8BMC,MA3Bf,SAAeC,GACb,IAAIC,EAMJ,OAJGD,EAAME,cACPD,EAAgB,0BAAME,UAAU,6FAA6FH,EAAME,cAG7H,yBAAKC,UAAU,wCACrB,yBAAKA,UAAU,qBACb,kBAAC,IAAD,CAAMC,GAAE,6BAAwBJ,EAAMK,KACpC,yBAAKF,UAAU,QACbG,MAAOT,EACPQ,GAAIL,EAAMK,GACVE,IAAKP,EAAMO,IACXC,IAAKR,EAAME,eAEdD,GAEH,uBAAGE,UAAU,kHACVM,KAAMT,EAAMU,SACZC,UAAQ,EAACC,OAAO,UAFnB,kHAGA,uBAAGT,UAAU,oHACVM,KAAMT,EAAMW,SACZA,UAAQ,EAACC,OAAO,UAFnB,kGC1BWC,EAFI,mECoFJC,E,2MA/EbC,MAAQ,CAACC,SAAS,M,EAGpBC,YAAc,SAACC,GACb,EAAKC,OAAOD,EAAMN,OAAOQ,Q,EAG3BD,OAAS,SAACE,GACLA,GACDC,MAAM,gDAAgDD,EAAI,cAAcR,EAAW,CAACU,OAAO,QAC1FC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAC,GACJ,IAAIE,EAAM,GACVF,EAAIG,QAAQC,KAAI,SAACC,GACf,IAAIC,EAAM,GACVA,EAAI1B,GAAKyB,EAAGzB,GACZ0B,EAAIC,IAAMF,EAAGG,KAAKC,MAClBH,EAAIpB,SAAWmB,EAAGK,MAAMxB,SACxBoB,EAAI7B,YAAc4B,EAAG5B,YACrByB,EAAIS,KAAKL,MAEX,EAAKM,SAAS,CAACrB,SAAUW,Q,mFAKR,IAAD,OACfW,KAAKtC,MAAMuC,aACZD,KAAKD,SAAS,CAACE,YAAaD,KAAKtC,MAAMuC,cACvCD,KAAKnB,OAAOmB,KAAKtC,MAAMuC,cAEvBjB,MAAM,6DAA+DT,EAAW,CAACU,OAAO,QACvFC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAC,GACJ,IAAIE,EAAM,GACVF,EAAII,KAAI,SAACC,GACP,IAAIC,EAAM,GACVA,EAAI1B,GAAKyB,EAAGzB,GACZ0B,EAAIC,IAAMF,EAAGG,KAAKC,MAClBH,EAAIpB,SAAWmB,EAAGK,MAAMxB,SACxBoB,EAAI7B,YAAc4B,EAAG5B,YACrB6B,EAAIrB,SAAWoB,EAAGU,KAAKL,MAAMM,KAC7Bd,EAAIS,KAAKL,MAEX,EAAKM,SAAS,CAACrB,SAAUW,S,+BAM7B,OAAwB,MAArBW,KAAKvB,MAAMC,SAEV,yBAAKb,UAAU,eACb,2BACAA,UAAU,uJACVuC,SAAYJ,KAAKrB,cACjB,yBAAKd,UAAY,WAChBmC,KAAKvB,MAAMC,SAASa,KAAI,SAACC,GAAD,OACvB,kBAAC,EAAD,CACET,IAAMS,EAAGzB,GACTA,GAAIyB,EAAGzB,GACPE,IAAKuB,EAAGE,IACRrB,SAAYmB,EAAGnB,SACfD,SAAYoB,EAAGpB,SACfR,YAAe4B,EAAG5B,mBAOxB,yBAAKC,UAAY,WAAjB,e,GAxEgBwC,IAAMC,WCiBfC,MAjBf,SAAa7C,GACX,IAAI8C,EAMJ,OAJEA,EADC9C,EAAM+C,SAAShC,MACJ,kBAAC,EAAD,CAAWwB,YAAavC,EAAM+C,SAAShC,MAAMwB,cAE7C,kBAAC,EAAD,MAGZ,yBAAKpC,UAAU,OACb,4BAAQA,UAAU,gBAChB,wBAAIA,UAAU,sBAAd,gBAED2C,ICwCQE,E,2MAlDXjC,MAAQ,CAACkC,SAAS,M,mFAEC,IAAD,OACdC,EAAYZ,KAAKtC,MAAM+C,SAASI,SAASC,MAAM,KACnDF,EAAaA,EAAWA,EAAWG,OAAO,GAExC/B,MAAM,mCAAD,OAAoC4B,EAApC,sBAA4DrC,GAAa,CAACU,OAAO,QACrFC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAM,SAAAC,GAAO,EAAKY,SAAU,CAACY,SAAUxB,S,+BAK1C,OAAwB,MAArBa,KAAKvB,MAAMkC,SAEV,yBAAK9C,UAAU,kBAEb,yBAAKA,UAAU,+BACb,yBAAKA,UAAU,gBAAgBI,IAAK+B,KAAKvB,MAAMkC,SAAShB,KAAKqB,WAG/D,yBAAKnD,UAAU,qCACb,yBAAKA,UAAU,eAAeI,IAAK+B,KAAKvB,MAAMkC,SAAST,KAAKe,cAAcC,SAC1E,4BAAKlB,KAAKvB,MAAMkC,SAAST,KAAKiB,MAE9B,yBAAKtD,UAAU,gCACb,qCACAmC,KAAKvB,MAAMkC,SAASS,KAAK7B,KAAI,SAACC,GAAD,OAC9B,kBAAC,IAAD,CAAM1B,GAAI,CACR+C,SAAU,eACVpC,MAAO,CACLwB,YAAaT,EAAG6B,SAGlB,uBAAGxD,UAAU,qDAAqD2B,EAAG6B,cAU5E,yC,GA9CgBhB,IAAMC,WCIxBgB,G,MACF,kBAAC,IAAD,KACE,6BACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,gBAAgBC,UAAWlB,IAC7C,kBAAC,IAAD,CAAOiB,KAAK,qBAAqBC,UAAWf,OAIlDgB,IAASC,OAAOL,EAASM,SAASC,eAAe,W","file":"static/js/main.029cc6aa.chunk.js","sourcesContent":["import React from 'react';\r\nimport  {Link} from 'react-router-dom'\r\n\r\nconst imgStyle={\r\n  width: '100%'\r\n}\r\n\r\nfunction Photo(props) {\r\n  let spanWithTitle;\r\n\r\n  if(props.description){\r\n    spanWithTitle = <span className='absolute bottom-0 left-0 bg-black inline-block w-full text-white opacity-0 p-4 text-right'>{props.description}</span>\r\n  }\r\n\r\n  return  <div className='inline-block text-center w-full mb-4'>\r\n    <div className='photoWrp relative'>\r\n      <Link to={`/stock-photo/photo/${props.id}`}>\r\n        <img className=\"photo\" \r\n          style={imgStyle} \r\n          id={props.id} \r\n          src={props.src}\r\n          alt={props.description} />\r\n      </Link>\r\n      {spanWithTitle}\r\n    </div>\r\n    <a className='inline-block bg-blue-500 hover:bg-blue-700 text-white text-sm font-bold mr-1 mt-3 py-2 px-4 rounded text-center' \r\n       href={props.userLink} \r\n       download target='_blank'>Посмотреть на автора</a>\r\n    <a className='inline-block bg-green-500 hover:bg-green-700 text-white text-sm font-bold ml-5 mt-3 py-2 px-4 rounded text-center' \r\n       href={props.download} \r\n       download target='_blank'>Жми чтобы скачать</a>\r\n  </div>\r\n}\r\n\r\nexport default Photo;\r\n","const PUBLIC_KEY = '56889379e12b179fea9f6dc3d84f38d73a11ae82478f8355e1950a9045575780'\r\n\r\nexport default PUBLIC_KEY;","import React from 'react';\r\nimport Photo from './Photo';\r\nimport PUBLIC_KEY  from './keys'\r\n\r\nclass ImageList extends React.Component {\r\n  state = {photoArr:null};\r\n\r\n\r\nchangeValue = (event) => {\r\n  this.search(event.target.value);\r\n}\r\n\r\nsearch = (key) => {\r\n  if(key){\r\n    fetch('https://api.unsplash.com/search/photos?query='+key+'&client_id='+PUBLIC_KEY,{method:'GET'})\r\n    .then(res=>res.json())\r\n    .then(res=>{\r\n      let arr = [];\r\n      res.results.map((el)=>{\r\n        let obj = {};\r\n        obj.id = el.id \r\n        obj.url = el.urls.small\r\n        obj.download = el.links.download\r\n        obj.description = el.description\r\n        arr.push(obj)\r\n      })\r\n      this.setState({photoArr: arr})\r\n    })\r\n  }\r\n}\r\n\r\n  componentDidMount() {\r\n    if(this.props.searchValue){\r\n      this.setState({searchValue: this.props.searchValue})\r\n      this.search(this.props.searchValue);\r\n    }else{\r\n      fetch('https://api.unsplash.com/photos/random?count=20&client_id=' + PUBLIC_KEY,{method:'GET'})\r\n      .then(res=>res.json())\r\n      .then(res=>{\r\n        let arr = [];\r\n        res.map((el)=>{\r\n          let obj = {};\r\n          obj.id = el.id \r\n          obj.url = el.urls.small\r\n          obj.download = el.links.download\r\n          obj.description = el.description\r\n          obj.userLink = el.user.links.html\r\n          arr.push(obj)\r\n        })\r\n        this.setState({photoArr: arr})\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(this.state.photoArr!=null){\r\n      return (\r\n        <div className='w-full px-3'>\r\n          <input \r\n          className='shadow appearance-none border rounded w-1/2 h-12 py-2 px-3 mb-4 my-auto text-gray-700 text-2xl leading-tight focus:outline-none focus:shadow-outline'\r\n          onChange = {this.changeValue} />\r\n          <div className = 'gallery'>\r\n          {this.state.photoArr.map((el)=>\r\n            <Photo \r\n              key ={el.id} \r\n              id={el.id} \r\n              src={el.url} \r\n              download = {el.download}\r\n              userLink = {el.userLink}\r\n              description = {el.description} />\r\n          )}\r\n          </div>\r\n        </div>\r\n      )\r\n    }else{\r\n      return (\r\n        <div className = 'gallery'>\r\n        nothing\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageList;","import React from 'react';\n//import logo from './logo.svg';\nimport ImageList from './ImageList';\n\nfunction App(props) {\n  let imageList;\n  if(props.location.state){\n    imageList = <ImageList searchValue={props.location.state.searchValue}/>\n  }else{\n    imageList = <ImageList />\n  }\n  return (\n    <div className=\"App\">\n      <header className='p-4 text-6xl'>\n        <h1 className='inline-block w-3/4'>Stock image</h1>\n      </header>\n      {imageList}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport  {Link} from 'react-router-dom'\r\nimport PUBLIC_KEY  from './keys'\r\n\r\nclass PhotoPage extends React.Component {\r\n\r\n    state = {imageObj:null}\r\n\r\n  componentDidMount() {\r\n    let idFromPath =this.props.location.pathname.split('/')\r\n    idFromPath = idFromPath[idFromPath.length-1]\r\n    {\r\n      fetch(`https://api.unsplash.com/photos/${idFromPath}?client_id=${PUBLIC_KEY}`,{method:'GET'})\r\n      .then(res=>res.json())\r\n      .then( res=>{ this.setState( {imageObj: res} ) } )\r\n    }\r\n  }\r\n\r\n  render(){\r\n    if(this.state.imageObj!=null){\r\n      return(\r\n        <div className='photoPage flex'>\r\n\r\n          <div className='photoPage__group-left w-1/3'>\r\n            <img className='w-full h-auto' src={this.state.imageObj.urls.regular}></img>\r\n          </div>\r\n\r\n          <div className='photoPage__group-right w-2/3 ml-4'>\r\n            <img className='rounded-full' src={this.state.imageObj.user.profile_image.medium}></img>\r\n            <h2>{this.state.imageObj.user.name}</h2>\r\n\r\n            <div className='photoPage__group-right__tags'>\r\n              <h2>Tags:</h2>\r\n             {this.state.imageObj.tags.map((el)=>\r\n             <Link to={{\r\n               pathname: '/stock-photo',\r\n               state: {\r\n                 searchValue: el.title\r\n               }\r\n             }}>\r\n               <p className='inline-block bg-gray-400 m-2 px-2 py-1 rounded-lg'>{el.title}</p>\r\n             </Link>\r\n             )}\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      )\r\n    }else{\r\n      return(\r\n        <div>test</div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default PhotoPage;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, BrowserRouter as Router } from 'react-router-dom'\nimport App from './App';\nimport PhotoPage from './PhotoPage';\n\nimport './tailwindStyle.css'\n\nconst routing = (\n    <Router>\n      <div>\n        <Route exact path=\"/stock-photo/\" component={App} />\n        <Route path=\"/stock-photo/photo\" component={PhotoPage} />\n      </div>\n    </Router>\n  )\n  ReactDOM.render(routing, document.getElementById('root'))\n\n"],"sourceRoot":""}